---
phase: 07.5-arabic-english-typography-spacing
plan: 02
type: execute
wave: 2
depends_on: ["07.5-01"]
files_modified:
  - package.json
  - app/_layout.tsx
autonomous: true

must_haves:
  truths:
    - "Cairo font package is installed as project dependency"
    - "App layout loads Cairo fonts instead of Tajawal"
    - "Fonts load successfully without errors"
    - "Splash screen hides after fonts are ready"
  artifacts:
    - path: "package.json"
      provides: "Cairo font dependency"
      contains: "@expo-google-fonts/cairo"
    - path: "app/_layout.tsx"
      provides: "Root layout with Cairo font loading"
      contains: "Cairo_400Regular"
  key_links:
    - from: "app/_layout.tsx"
      to: "hooks/useCachedFonts.ts"
      via: "useCachedFonts import"
      pattern: "import.*useCachedFonts.*from"
    - from: "app/_layout.tsx"
      to: "@expo-google-fonts/cairo"
      via: "Font imports"
      pattern: "Cairo_\\d+\\w+"
---

<objective>
Install Cairo font package and integrate into app layout

Purpose: Complete the font migration by installing the Cairo package and updating the root layout to load Cairo fonts instead of Tajawal

Output: Working app with Cairo fonts loaded at startup, proper splash screen handling
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/07.5-arabic-english-typography-spacing/07.5-RESEARCH.md
@.planning/phases/07.5-arabic-english-typography-spacing/07.5-01-SUMMARY.md
@app/_layout.tsx
@hooks/useCachedFonts.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Cairo Font Package</name>
  <files>package.json</files>
  <action>
Run the following command to install the Cairo Google Font package for Expo:

```bash
npx expo install @expo-google-fonts/cairo
```

This installs:
- @expo-google-fonts/cairo - Cairo font with all weights (400-900)
- Automatically adds to package.json dependencies

NOTE: Do NOT remove @expo-google-fonts/tajawal yet - other parts of the codebase may reference it. We'll do a cleanup in a future phase if needed.

Verify the package.json now includes "@expo-google-fonts/cairo".
  </action>
  <verify>
Run `npm ls @expo-google-fonts/cairo` to confirm package is installed.
Check package.json contains "@expo-google-fonts/cairo" in dependencies.
  </verify>
  <done>
@expo-google-fonts/cairo package installed and available for import.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update App Layout to Use Cairo Fonts</name>
  <files>app/_layout.tsx</files>
  <action>
Update app/_layout.tsx to load Cairo fonts instead of Tajawal:

1. Replace the Tajawal font imports with Cairo:
```typescript
// REPLACE THIS:
import { useFonts, Tajawal_400Regular, Tajawal_500Medium, Tajawal_700Bold, Tajawal_800ExtraBold, Tajawal_900Black } from '@expo-google-fonts/tajawal';

// WITH THIS:
import { useFonts } from 'expo-font';
import {
  Cairo_400Regular,
  Cairo_500Medium,
  Cairo_600SemiBold,
  Cairo_700Bold,
  Cairo_800ExtraBold,
  Cairo_900Black,
} from '@expo-google-fonts/cairo';
```

2. Update the useFonts call in RootLayout:
```typescript
// REPLACE THIS:
const [fontsLoaded, fontError] = useFonts({
  Tajawal_400Regular,
  Tajawal_500Medium,
  Tajawal_700Bold,
  Tajawal_800ExtraBold,
  Tajawal_900Black,
});

// WITH THIS:
const [fontsLoaded, fontError] = useFonts({
  Cairo_400Regular,
  Cairo_500Medium,
  Cairo_600SemiBold,
  Cairo_700Bold,
  Cairo_800ExtraBold,
  Cairo_900Black,
});
```

3. Keep ALL other code unchanged:
- RTLGuard component
- SplashScreen handling
- Provider hierarchy
- NavigationStack
- Sentry wrapper

IMPORTANT: The font loading logic (useEffect, timeout, forceRender) should remain identical - only the font names change.
  </action>
  <verify>
1. Check that app/_layout.tsx imports from '@expo-google-fonts/cairo'
2. Run TypeScript check: `npx tsc --noEmit app/_layout.tsx`
3. Start the app: `npx expo start` - verify fonts load without errors
4. Visually confirm Arabic text renders with Cairo font (slightly different appearance than Tajawal)
  </verify>
  <done>
App layout updated to:
- Import Cairo fonts instead of Tajawal
- Load all 6 Cairo weights (400, 500, 600, 700, 800, 900)
- Maintain existing splash screen and error handling logic
  </done>
</task>

</tasks>

<verification>
1. package.json contains "@expo-google-fonts/cairo"
2. app/_layout.tsx imports Cairo fonts
3. App starts successfully with `npx expo start`
4. No font loading errors in console
5. Arabic text renders (visual check)
</verification>

<success_criteria>
- Cairo font package installed
- App loads with Cairo fonts
- No console errors about missing fonts
- Splash screen hides properly after font load
- Arabic text visible (even if line heights not yet perfect - that's covered by theme.ts in Plan 01)
</success_criteria>

<output>
After completion, create `.planning/phases/07.5-arabic-english-typography-spacing/07.5-02-SUMMARY.md`
</output>
